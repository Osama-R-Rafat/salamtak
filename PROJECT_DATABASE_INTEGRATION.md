# ๐ ุชู ุฑุจุท ุงููุดุฑูุน ุจูุงุนุฏุฉ ุจูุงูุงุช Supabase ุจูุฌุงุญ!

## โ ูุง ุชู ุฅูุฌุงุฒู

ุชู ุฑุจุท ูุดุฑูุน ุณูุงูุชู ุงูุทุจู ุจูุงุนุฏุฉ ุจูุงูุงุช **Supabase** ุงููุฌุงููุฉ ุจุงููุงููุ ููุง ูุฌุนูู ุฌุงูุฒุงู ููุงุณุชุฎุฏุงู ุงููุนูู!

---

## ๐ฆ ุงููููุงุช ุงููุถุงูุฉ

### 1. ูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### `database.sql` โญ
- ุณูุฑูุจุช SQL ูุงูู ูุฅูุดุงุก ุฌููุน ุงูุฌุฏุงูู
- 8 ุฌุฏุงูู ุฑุฆูุณูุฉ (profiles, doctors, patients, appointments, ...)
- ุณูุงุณุงุช ุฃูุงู Row Level Security (RLS)
- Indexes ูุชุญุณูู ุงูุฃุฏุงุก
- Triggers ููุชุญุฏูุซ ุงูุชููุงุฆู

#### `src/lib/supabase.ts`
- ุฅุนุฏุงุฏ ุงุชุตุงู Supabase
- ุชุนุฑูู ุฃููุงุน TypeScript ูุฌููุน ุงูุฌุฏุงูู
- ุงุณุชูุฑุงุฏ ูุงุญุฏ ูุณุชุฎุฏู ูู ูู ุงููุดุฑูุน

### 2. ูููุงุช ุงูุฎุฏูุงุช (Services)

#### `src/services/auth.service.ts` ๐
ูุธุงุฆู ุงููุตุงุฏูุฉ ูุงูุชุณุฌูู:
- `signUp()` - ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ (ุทุจูุจ ุฃู ูุฑูุถ)
- `signIn()` - ุชุณุฌูู ุงูุฏุฎูู
- `signOut()` - ุชุณุฌูู ุงูุฎุฑูุฌ
- `getCurrentUser()` - ุงูุญุตูู ุนูู ุงููุณุชุฎุฏู ุงูุญุงูู
- `getUserProfile()` - ุงูุญุตูู ุนูู ุจูุงูุงุช ุงููุณุชุฎุฏู
- `getDoctorProfile()` - ุงูุญุตูู ุนูู ุจูุงูุงุช ุงูุทุจูุจ
- `getPatientProfile()` - ุงูุญุตูู ุนูู ุจูุงูุงุช ุงููุฑูุถ
- `updateDoctorProfile()` - ุชุญุฏูุซ ุจูุงูุงุช ุงูุทุจูุจ
- `updatePatientProfile()` - ุชุญุฏูุซ ุจูุงูุงุช ุงููุฑูุถ

#### `src/services/appointments.service.ts` ๐
ุฅุฏุงุฑุฉ ุงูููุงุนูุฏ ุงูุทุจูุฉ:
- `createAppointment()` - ุฅูุดุงุก ููุนุฏ ุฌุฏูุฏ
- `getPatientAppointments()` - ููุงุนูุฏ ุงููุฑูุถ
- `getDoctorAppointments()` - ููุงุนูุฏ ุงูุทุจูุจ
- `getTodayAppointments()` - ููุงุนูุฏ ุงูููู
- `updateAppointmentStatus()` - ุชุญุฏูุซ ุญุงูุฉ ุงูููุนุฏ
- `deleteAppointment()` - ุญุฐู ููุนุฏ

#### `src/services/prescriptions.service.ts` ๐
ุฅุฏุงุฑุฉ ุงููุตูุงุช ุงูุทุจูุฉ:
- `createPrescription()` - ุฅูุดุงุก ูุตูุฉ ุทุจูุฉ
- `getPatientPrescriptions()` - ูุตูุงุช ุงููุฑูุถ
- `getDoctorPrescriptions()` - ูุตูุงุช ุงูุทุจูุจ
- `getPrescriptionById()` - ุงูุญุตูู ุนูู ูุตูุฉ ูุนููุฉ

#### `src/services/doctors.service.ts` ๐จโโ๏ธ
ุฅุฏุงุฑุฉ ุจูุงูุงุช ุงูุฃุทุจุงุก:
- `getAllDoctors()` - ุฌููุน ุงูุฃุทุจุงุก
- `getDoctorsBySpecialty()` - ุฃุทุจุงุก ุญุณุจ ุงูุชุฎุตุต
- `getDoctorById()` - ุจูุงูุงุช ุทุจูุจ ูุนูู
- `getDoctorReviews()` - ุชููููุงุช ุงูุทุจูุจ
- `addDoctorReview()` - ุฅุถุงูุฉ ุชูููู
- `getSpecialties()` - ุงูุชุฎุตุตุงุช ุงููุชููุฑุฉ

### 3. ุชุญุฏูุซุงุช ุงููููุงุช ุงูููุฌูุฏุฉ

#### `src/contexts/AppContext.tsx` ๐
ุชู ุฅุถุงูุฉ:
- ุญุงูุฉ ุงููุตุงุฏูุฉ (user, profile, loading)
- ุฏูุงู ุงููุตุงุฏูุฉ (signIn, signUp, signOut)
- ุชุญููู ุงูุฌูุณุฉ ุชููุงุฆูุงู ุนูุฏ ุจุฏุก ุงูุชุทุจูู
- ุงูุงุณุชูุงุน ูุชุบููุฑุงุช ุญุงูุฉ ุงููุตุงุฏูุฉ

#### `src/components/PatientLogin.tsx` ๐
ุชู ุฅุถุงูุฉ:
- ุฑุจุท ุญููู ุงููููุฐุฌ ุจุญุงูุฉ React
- ุงุณุชุฏุนุงุก ุฏูุงู ุงููุตุงุฏูุฉ ุงูุญููููุฉ
- ุฑุณุงุฆู ูุฌุงุญ/ูุดู ุจุงุณุชุฎุฏุงู toast
- ุญุงูุฉ ุชุญููู (loading state)

#### `src/components/DoctorLogin.tsx` ๐
ุชู ุฅุถุงูุฉ:
- ุฑุจุท ุญููู ุงููููุฐุฌ ุจุญุงูุฉ React
- ุงุณุชุฏุนุงุก ุฏูุงู ุงููุตุงุฏูุฉ ุงูุญููููุฉ
- ุงูุชุญูู ูู ุงูุชุฎุตุต ูุจู ุงูุชุณุฌูู
- ุฑุณุงุฆู ูุฌุงุญ/ูุดู

### 4. ูููุงุช ุงููุซุงุฆู

#### `README.md` ๐
- ูุธุฑุฉ ุนุงูุฉ ุดุงููุฉ ุนู ุงููุดุฑูุน
- ุฌุฏูู ุงูููุฒุงุช
- ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ
- ุชุนูููุงุช ุงูุชุซุจูุช ูุงููุดุฑ

#### `SETUP_GUIDE.md` ๐
- ุฏููู ูุงูู ุจุงูุฅูุฌููุฒูุฉ
- ุฎุทูุงุช ููุตูุฉ ููุฅุนุฏุงุฏ
- ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ
- ุชุนูููุงุช ุงููุดุฑ

#### `DATABASE_SETUP_AR.md` ๐ช๐ฌ
- ุฏููู ุณุฑูุน ุจุงูุนุฑุจูุฉ
- ุฎุทูุงุช ูุจุณุทุฉ
- ุฃูุซูุฉ ูุงูุนูุฉ
- ูุตุงุฆุญ ูููุฉ

#### `env-template.txt` โ๏ธ
- ูููุฐุฌ ูููุชุบูุฑุงุช ุงูุจูุฆูุฉ
- ุชุนูููุงุช ูุงุถุญุฉ

---

## ๐๏ธ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู (Tables)

```
1. profiles (ูุนูููุงุช ุงููุณุชุฎุฏููู ุงูุฃุณุงุณูุฉ)
   โโโ id (UUID)
   โโโ email
   โโโ phone
   โโโ full_name
   โโโ user_type (doctor/patient)
   โโโ avatar_url

2. doctors (ูุนูููุงุช ุงูุฃุทุจุงุก)
   โโโ id
   โโโ user_id โ profiles
   โโโ specialty
   โโโ license_number
   โโโ years_of_experience
   โโโ clinic_address
   โโโ consultation_fee
   โโโ bio
   โโโ rating

3. patients (ูุนูููุงุช ุงููุฑุถู)
   โโโ id
   โโโ user_id โ profiles
   โโโ birth_date
   โโโ blood_type
   โโโ height
   โโโ weight
   โโโ chronic_diseases[]
   โโโ allergies[]
   โโโ insurance_number

4. appointments (ุงูููุงุนูุฏ ุงูุทุจูุฉ)
   โโโ id
   โโโ patient_id โ patients
   โโโ doctor_id โ doctors
   โโโ appointment_date
   โโโ appointment_time
   โโโ appointment_type
   โโโ status
   โโโ notes

5. prescriptions (ุงููุตูุงุช ุงูุทุจูุฉ)
   โโโ id
   โโโ doctor_id โ doctors
   โโโ patient_id โ patients
   โโโ diagnosis
   โโโ medications (JSONB)
   โโโ notes

6. medication_reminders (ุชุฐููุฑุงุช ุงูุฃุฏููุฉ)
   โโโ id
   โโโ patient_id โ patients
   โโโ medication_name
   โโโ dosage
   โโโ frequency
   โโโ time_slots[]
   โโโ is_active

7. reviews (ุชููููุงุช ุงูุฃุทุจุงุก)
   โโโ id
   โโโ doctor_id โ doctors
   โโโ patient_id โ patients
   โโโ rating (1-5)
   โโโ comment

8. patient_files (ูููุงุช ุงููุฑุถู)
   โโโ id
   โโโ patient_id โ patients
   โโโ doctor_id โ doctors
   โโโ file_type
   โโโ title
   โโโ file_url
```

### ุงูุนูุงูุงุช (Relationships)

```
profiles โโโฌโโ doctors โโโฌโโ appointments
           โ             โโโ prescriptions
           โ             โโโ reviews
           โ             โโโ patient_files
           โ
           โโโ patients โโโฌโโ appointments
                          โโโ prescriptions
                          โโโ medication_reminders
                          โโโ reviews
                          โโโ patient_files
```

---

## ๐ ุงูุฃูุงู (Security)

### Row Level Security (RLS)

ุชู ุชูุนูู RLS ุนูู ุฌููุน ุงูุฌุฏุงูู ูุน ุงูุณูุงุณุงุช ุงูุชุงููุฉ:

#### โ Profiles
- ุงููุณุชุฎุฏู ูุฑู ููุนุฏู ุจูุงูุงุชู ููุท

#### โ Doctors
- ุงูุฌููุน ูููููู ุฑุคูุฉ ุจูุงูุงุช ุงูุฃุทุจุงุก (ููุจุญุซ)
- ุงูุทุจูุจ ูุนุฏู ุจูุงูุงุชู ููุท

#### โ Patients
- ุงููุฑูุถ ูุฑู ููุนุฏู ุจูุงูุงุชู ููุท
- ุงูุทุจูุจ ูุฑู ุจูุงูุงุช ูุฑุถุงู ููุท

#### โ Appointments
- ุงููุฑูุถ ูุฑู ููุงุนูุฏู ููุท
- ุงูุทุจูุจ ูุฑู ููุงุนูุฏู ููุท
- ุงููุฑูุถ ููุดุฆ ููุงุนูุฏ ุฌุฏูุฏุฉ
- ููุงููุง ูุญุฏุซ ุญุงูุฉ ุงูููุนุฏ

#### โ Prescriptions
- ุงูุทุจูุจ ููุดุฆ ุงููุตูุงุช
- ุงููุฑูุถ ูุฑู ูุตูุงุชู ููุท
- ุงูุทุจูุจ ูุฑู ูุตูุงุชู ููุท

#### โ Medication Reminders
- ุงููุฑูุถ ูุฏูุฑ ุชุฐููุฑุงุชู ููุท

#### โ Reviews
- ุงูุฌููุน ูุฑู ุงูุชููููุงุช
- ุงููุฑูุถ ููุดุฆ ุชููููุงุช ููุท

#### โ Patient Files
- ุงููุฑูุถ ูุฑู ูููุงุชู ููุท
- ุงูุทุจูุจ ูุฑู ูููุงุช ูุฑุถุงู ููุท
- ุงูุทุจูุจ ููุดุฆ ูููุงุช ุฌุฏูุฏุฉ

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุฅุนุฏุงุฏ Supabase

```bash
# ุงุชุจุน ุงูุชุนูููุงุช ูู DATABASE_SETUP_AR.md
1. ุฅูุดุงุก ุญุณุงุจ ุนูู supabase.com
2. ุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ
3. ุชูููุฐ database.sql ูู SQL Editor
4. ูุณุฎ Project URL ู Anon Key
```

### 2. ุฅุนุฏุงุฏ ุงููุดุฑูุน

```bash
# ุชุซุจูุช ุงูููุชุจุงุช
npm install

# ุฅูุดุงุก ููู .env
VITE_SUPABASE_URL=your_url
VITE_SUPABASE_ANON_KEY=your_key

# ุชุดุบูู ุงููุดุฑูุน
npm run dev
```

### 3. ุงูุงุฎุชุจุงุฑ

```javascript
// ูุซุงู: ุชุณุฌูู ูุฑูุถ ุฌุฏูุฏ
import { authService } from './services/auth.service';

await authService.signUp({
  email: 'patient@test.com',
  password: 'Test@123',
  phone: '01234567890',
  fullName: 'ูุญูุฏ ุนูู',
  userType: 'patient',
  birthDate: '1990-01-01'
});

// ูุซุงู: ุญุฌุฒ ููุนุฏ
import { appointmentsService } from './services/appointments.service';

await appointmentsService.createAppointment({
  patientId: 'patient-uuid',
  doctorId: 'doctor-uuid',
  appointmentDate: '2026-01-25',
  appointmentTime: '10:00',
  appointmentType: 'clinic',
  reason: 'ูุญุต ุฏูุฑู'
});
```

---

## ๐ ุงูููุฒุงุช ุงููุชุงุญุฉ ุงูุขู

### โ ุงููุตุงุฏูุฉ ูุงูุฃูุงู
- [x] ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ (ุทุจูุจ/ูุฑูุถ)
- [x] ุชุณุฌูู ุงูุฏุฎูู
- [x] ุชุณุฌูู ุงูุฎุฑูุฌ
- [x] ุญูุธ ุงูุฌูุณุฉ ุชููุงุฆูุงู
- [x] ุญูุงูุฉ ุงูุจูุงูุงุช ุจู RLS

### โ ุฅุฏุงุฑุฉ ุงูููุงุนูุฏ
- [x] ุฅูุดุงุก ููุนุฏ ุฌุฏูุฏ
- [x] ุนุฑุถ ููุงุนูุฏ ุงููุฑูุถ
- [x] ุนุฑุถ ููุงุนูุฏ ุงูุทุจูุจ
- [x] ุชุญุฏูุซ ุญุงูุฉ ุงูููุนุฏ
- [x] ุญุฐู ุงูููุนุฏ

### โ ุงููุตูุงุช ุงูุทุจูุฉ
- [x] ูุชุงุจุฉ ูุตูุฉ ุฌุฏูุฏุฉ
- [x] ุนุฑุถ ูุตูุงุช ุงููุฑูุถ
- [x] ุนุฑุถ ูุตูุงุช ุงูุทุจูุจ

### โ ุฅุฏุงุฑุฉ ุงูุฃุทุจุงุก
- [x] ุงูุจุญุซ ุนู ุงูุฃุทุจุงุก
- [x] ุงูุชุตููุฉ ุญุณุจ ุงูุชุฎุตุต
- [x] ุนุฑุถ ุงูุชููููุงุช
- [x] ุฅุถุงูุฉ ุชูููู

---

## ๐ ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ ุงูููุชุฑุญุฉ

### ูุฑูุจุงู
- [ ] ุฑุจุท ูููู AppointmentBooking ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
- [ ] ุฑุจุท ูููู MedicationReminder ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
- [ ] ุฑุจุท ูููู PrescriptionForm ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
- [ ] ุฑุจุท ูููู RatingSystem ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
- [ ] ุฑูุน ุงูุตูุฑ ูุงููููุงุช ุนูู Supabase Storage

### ูุชูุณุท ุงููุฏู
- [ ] ุฅุดุนุงุฑุงุช Push ููููุงุนูุฏ
- [ ] ุชุฐููุฑุงุช SMS ููุฃุฏููุฉ
- [ ] ุชูุงูู ูุน ุจูุงุจุฉ ุงูุฏูุน
- [ ] ุชุทุจูู ููุจุงูู (React Native)

### ุทููู ุงููุฏู
- [ ] ูุณุงุนุฏ ุฐูู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู
- [ ] ุชุญูููุงุช ูุชูุฏูุฉ ูููุญุงุช ุฅุญุตุงุฆูุงุช
- [ ] ูุธุงู ุงูุญุฌุฒ ุงูุฐูู
- [ ] ุชูุงูู ูุน ุฃูุธูุฉ ุงููุณุชุดููุงุช

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ุงููููุงุช ุงููุถุงูุฉ/ุงููุญุฏุซุฉ
- โ 12 ููู ุฌุฏูุฏ
- โ 3 ูููุงุช ูุญุฏุซุฉ
- โ ~2000 ุณุทุฑ ููุฏ

### ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ 8 ุฌุฏุงูู
- โ 30+ ุนููุฏ
- โ 15+ ุณูุงุณุฉ ุฃูุงู
- โ 8 triggers
- โ 6 indexes

### ุงูุฎุฏูุงุช
- โ 4 ูููุงุช ุฎุฏูุงุช
- โ 25+ ุฏุงูุฉ ุฌุงูุฒุฉ
- โ TypeScript ูุงูู

---

## ๐ ูููุทูุฑูู

### ุฅุถุงูุฉ ุฎุฏูุฉ ุฌุฏูุฏุฉ

```typescript
// src/services/example.service.ts
import { supabase } from '../lib/supabase';

class ExampleService {
  async getData() {
    const { data, error } = await supabase
      .from('table_name')
      .select('*');
    
    if (error) throw error;
    return data;
  }
}

export const exampleService = new ExampleService();
```

### ุฅุถุงูุฉ ุฌุฏูู ุฌุฏูุฏ

```sql
-- ูู database.sql
CREATE TABLE public.new_table (
  id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,
  user_id UUID REFERENCES public.profiles(id),
  -- ุงููุฒูุฏ ูู ุงูุฃุนูุฏุฉ
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- ุชูุนูู RLS
ALTER TABLE public.new_table ENABLE ROW LEVEL SECURITY;

-- ุฅุถุงูุฉ ุณูุงุณุฉ
CREATE POLICY "policy_name" ON public.new_table
  FOR SELECT USING (auth.uid() = user_id);
```

---

## ๐ก ูุตุงุฆุญ ูููุฉ

1. **ุงูุฃูุงู:**
   - ูุง ุชุดุงุฑู ููู `.env` ุฃุจุฏุงู
   - ูุง ุชุฑูุน `.env` ุนูู GitHub
   - ุงุณุชุฎุฏู ููุงุชูุญ ูุฎุชููุฉ ููุชุทููุฑ ูุงูุฅูุชุงุฌ

2. **ุงูุฃุฏุงุก:**
   - ุงุณุชุฎุฏู Indexes ุนูู ุงูุฃุนูุฏุฉ ุงููุณุชุฎุฏูุฉ ูู ุงูุจุญุซ
   - ุงุฎุชุฑ ุงูุฃุนูุฏุฉ ุงููุทููุจุฉ ููุท ูู SELECT
   - ุงุณุชุฎุฏู Pagination ููููุงุฆู ุงูุทูููุฉ

3. **ุงูุชุทููุฑ:**
   - ุงุฎุชุจุฑ ุงูุณูุงุณุงุช RLS ุฌูุฏุงู
   - ุงุณุชุฎุฏู TypeScript ููุญุตูู ุนูู autocomplete
   - ุฑุงุฌุน Supabase Logs ุนูุฏ ุญุฏูุซ ุฃุฎุทุงุก

4. **ุงููุดุฑ:**
   - ุชุฃูุฏ ูู ุฅุถุงูุฉ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ ูู ููุตุฉ ุงููุดุฑ
   - ูุนูู SSL/HTTPS
   - ุฑุงูุจ ุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

## โ ุงูุฎูุงุตุฉ

ุชู ุจูุฌุงุญ:
1. โ ุฅุถุงูุฉ Supabase ููุงุนุฏุฉ ุจูุงูุงุช ูุฌุงููุฉ
2. โ ุฅูุดุงุก 8 ุฌุฏุงูู ูุน ุนูุงูุงุช ูุงููุฉ
3. โ ุชุทุจูู Row Level Security
4. โ ุฅูุดุงุก 4 ุฎุฏูุงุช ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู
5. โ ุฑุจุท ููุงุฐุฌ ุชุณุฌูู ุงูุฏุฎูู
6. โ ุชูุซูู ุดุงูู ุจุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ

**ุงููุดุฑูุน ุงูุขู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงููุนูู! ๐**

---

## ๐ ุงููุณุงุนุฏุฉ

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:
1. ุฑุงุฌุน [DATABASE_SETUP_AR.md](./DATABASE_SETUP_AR.md)
2. ุฑุงุฌุน [SETUP_GUIDE.md](./SETUP_GUIDE.md)
3. ุชุญูู ูู Supabase Dashboard โ Logs
4. ุชุญูู ูู console ูู ุงููุชุตูุญ

---

**ุตููุน ุจู โค๏ธ ูููุฌุชูุน ุงูุทุจู ุงูุนุฑุจู**
